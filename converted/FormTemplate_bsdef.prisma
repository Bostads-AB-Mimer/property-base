model FormTemplate {
  @@map("bsdef")

  formTemplateId String @id(map: "pkbsdef") @map("keybsdef") @db.Char(15)
  moduleId String @map("keysymdl") @db.Char(15)  // TODO: Change to new model name when available
  databaseTableId String @map("keydbtbl") @db.Char(15) // TODO: change to new model name when available
  reportId String? @map("keycmrpt") @db.Char(15) // Related to Report model
  documentTypeId String? @map("keydotyp") @db.Char(15) // Related to DocumentType model
  subtypeId String? @map("keydosty") @db.Char(15) // Related to Subtype model
  name String @map("def") @db.VarChar(30)
  description String @map("defben") @db.VarChar(200)
  documentType String? @map("doctype") @db.VarChar(100)
  subject String? @map("defsubject") @db.VarChar(100)
  isContractualDocument Int @default(0, map: "DF__bsdef__deflegal__73DE54E9") @map("deflegal") @db.TinyInt
  destination Int @default(1, map: "DF__bsdef__defdest__74D27922") @map("defdest") @db.TinyInt
  isActive Int @map("defused") @db.TinyInt
  digitalSignature Int @default(0, map: "DF__bsdef__digisign__75C69D5B") @map("digisign") @db.TinyInt
  archivePath String? @map("archivepth") @db.VarChar(200)
  isCopyAllowed Int @default(1, map: "DF__bsdef__defcopy__76BAC194") @map("defcopy") @db.TinyInt
  isSystemStandard Int @default(0, map: "DF__bsdef__sysstd__77AEE5CD") @map("sysstd") @db.TinyInt
  allowRejectFunctionality Int @default(0, map: "DF__bsdef__allowrejc__78A30A06") @map("allowrejct") @db.TinyInt
  digitalAuthenticationType String? @map("digauthtyp") @db.VarChar(30)
  attachmentName String? @map("attachname") @db.VarChar(200)
  isPdfFormat Int @default(0, map: "DF__bsdef__pdfformat__79972E3F") @map("pdfformat") @db.TinyInt
  timestamp String @map("timestamp") @db.Char(10) // TODO: consider changing timestamp later when knowing more about its usage

  report Report? @relation(fields: [reportId], references: [reportId], onDelete: NoAction, onUpdate: NoAction, map: "fkbsdefkeycmrpt")
  subtype Subtype? @relation(fields: [subtypeId], references: [subtypeId], onDelete: NoAction, onUpdate: NoAction, map: "fkbsdefkeydosty")
  documentType DocumentType? @relation(fields: [documentTypeId], references: [documentTypeId], onDelete: NoAction, onUpdate: NoAction, map: "fkbsdefkeydotyp")

  dataSources DataSource[] @relation("bsend_blankettIdTobsdef")
  formInstances FormInstance[] @relation("bsins_formTemplateIdTobsdef")
  inspectionProtocolTemplates InspectionProtocolTemplate[] // fbbla renamed to InspectionProtocolTemplate
  digitalSignatures DigitalSignature[] @relation("hydis_formIdTobsdef")

  lbbkaKeyBsdef InspectionCategory[] @relation("lbbka_keybsdefTobsdef") // Assumed lbbka relates to InspectionCategory
  lbbkaKeyBsdef2 InspectionCategory[] @relation("lbbka_keybsdef2Tobsdef") // Assumed lbbka relates to InspectionCategory
  lbbkaKeyBsdef3 InspectionCategory[] @relation("lbbka_keybsdef3Tobsdef") // Assumed lbbka relates to InspectionCategory
  
  @@index([reportId], map: "fkbsdefcmrpt")
  @@index([databaseTableId], map: "fkbsdefdbtbl")
  @@index([subtypeId], map: "fkbsdefdosty")
  @@index([documentTypeId], map: "fkbsdefdotyp")
  @@index([moduleId], map: "fkbsdefsymdl")
}