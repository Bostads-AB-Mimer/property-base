model InspectionProtocolTemplate {
  @@map("fbbla")

  protocolTemplateId String @id(map: "pkfbbla") @map("keyfbbla") @db.Char(15)
  inspectionTypeId String @map("keycmtyp") @db.Char(15)
  formTemplateId String? @map("keybsdef") @db.Char(15)
  protocolCode String? @map("code") @db.VarChar(30)
  name String? @map("caption") @db.VarChar(60)
  useWeighting Int @default(0, map: "DF__fbbla__usefv__1EBF8F42") @map("usefv") @db.TinyInt
  isActive Int @default(1, map: "DF__fbbla__blaused__1FB3B37B") @map("blaused") @db.TinyInt
  mandatoryEffectType Int @default(0, map: "DF__fbbla__demsceft__20A7D7B4") @map("demsceft") @db.TinyInt
  maximumValue Decimal? @map("maxvalue") @db.Decimal(7, 2)
  obtainValue Int @default(0, map: "DF__fbbla__genxbox__219BFBED") @map("genxbox") @db.TinyInt
  isSystemStandard Int @default(0, map: "DF__fbbla__sysstd__22902026") @map("sysstd") @db.TinyInt
  timestamp String @map("timestamp") @db.Char(10) // TODO: change timestamp later when knowing more about its usage

  protocolPoints ProtocolPoint[] @relation("fkfbanpkeyfbbla")
  inspectionCategories InspectionCategory[] @relation("fkfbbla") 
  inspectionTemplates Inspection[] @relation("fkfbbeskeyfbbla")
  
  formTemplate FormTemplate? @relation(fields: [formTemplateId], references: [formTemplateId], onUpdate: NoAction, map: "fkfbblakeybsdef")
  inspectionType InspectionType @relation(fields: [inspectionTypeId], references: [inspectionTypeId], onUpdate: NoAction, map: "fkfbblakeycmtyp ")
  inspectionProtocols InspectionProtocol[] @relation("fkfbbpkkeyfbbla")

  @@index([formTemplateId], map: "fkfbblabsdef")
  @@index([inspectionTypeId], map: "fkfbblacmtyp")
}