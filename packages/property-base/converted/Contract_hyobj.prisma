model Contract {
  @@map("hyobj")

  contractId String @id(map: "pkhyobj") @map("keyhyobj") @db.Char(15)
  moduleId String @map("keysymdl") @db.Char(15)
  agreementFormId String @map("keyhyobt") @db.Char(15)
  chargeFormId String? @map("keyhyobt2") @db.Char(15)
  companyId String? @map("keycmcmp") @db.Char(15)
  subCompanyId String? @map("keycmcmp2") @db.Char(15)
  parentContractId String? @map("keyhyobj2") @db.Char(15) // TODO: Validate new model name on backward pass
  contractTypeId String @map("keyhyhav") @db.Char(15)
  extensionPeriodUnitId String @map("keycmuni") @db.Char(15)
  noticePeriodUnitId String @map("keycmuni2") @db.Char(15)
  consolidationPeriodUnitId String @map("keycmuni3") @db.Char(15)
  invoiceSortingId String? @map("keyhysor") @db.Char(15)
  createdBy String? @map("keysyusr") @db.Char(15)
  handledBy String? @map("keysyusr2") @db.Char(15)
  orderingMethodId String? @map("keyiksbg") @db.Char(15)
  deliveryMethodId String? @map("keyikslr") @db.Char(15)
  deductionTypeId String? @map("keyprdct") @db.Char(15)
  propertyTaxArticleId String? @map("keycmart") @db.Char(15)
  retroactivePropertyTaxArticleId String? @map("keycmart2") @db.Char(15)
  smallHouseGroupAreaId String? @map("keytrars") @db.Char(15)
  multiFamilyHouseAreaId String? @map("keytrare") @db.Char(15)
  conceptId String? @map("keycmcpt") @db.Char(15)
  businessSectorId String? @map("keycmtrd") @db.Char(15)
  contractTemplateId String? @map("keyhycct") @db.Char(15)
  rentalRoundId String? @map("keyhyuto") @db.Char(15)
  contractNumber String @unique(map: "akhyobj1") @map("hyobjben") @db.VarChar(35)
  signedLocation String? @map("avtalsort") @db.VarChar(30)
  agreementDate DateTime? @map("avtalsdat") @db.DateTime
  leasePeriodFrom DateTime? @map("fdate") @db.DateTime
  transferDate DateTime? @map("overlatdat") @db.DateTime
  leasePeriodTo DateTime? @map("tdate") @db.DateTime
  lastBillingDate DateTime? @map("sistadeb") @db.DateTime
  contractStartFrom DateTime? @map("conperfrom") @db.Date
  contractEndTo DateTime? @map("conperto") @db.Date
  invoicePeriod Int @map("fakturaper") @db.TinyInt
  toExpireIndicator String? @map("forfaller") @db.Char(1)
  graceDays Int @default(0, map: "DF__hyobj__friforf__2CC1CC8A") @map("friforf") @db.TinyInt
  expireInDays Int? @map("daysexpire") @db.SmallInt
  yearExpiryDate String? @map("yearexpdat") @db.Char(4)
  stopBilling Int @default(0, map: "DF__hyobj__invstop__2DB5F0C3") @map("invstop") @db.TinyInt
  isDraft Int @default(0, map: "DF__hyobj__draft__2EAA14FC") @map("draft") @db.TinyInt
  doNotClaim Int @default(0, map: "DF__hyobj__noclaim__2F9E3935") @map("noclaim") @db.TinyInt
  printedForSignature DateTime? @map("utskriven") @db.DateTime
  isSigned Int @default(0, map: "DF__hyobj__waitsign__30925D6E") @map("waitsign") @db.TinyInt
  approvalDate DateTime? @map("godkdatum") @db.DateTime
  approvalSignature String? @map("godksign") @db.VarChar(80)
  withoutPossessionProtection Int @default(0, map: "DF__hyobj__ejbesittn__318681A7") @map("ejbesittn") @db.TinyInt
  terminationDate DateTime? @map("uppsdatum") @db.DateTime
  terminationSignature String? @map("uppssign") @db.VarChar(80)
  renegotiationTerminationDate DateTime? @map("uppsomfdat") @db.DateTime
  annulmentDate DateTime? @map("makuldatum") @db.DateTime
  annulmentSignature String? @map("makulsign") @db.VarChar(4)
  contractRentAmount Float? @map("konthyra") @db.Money
  marking String? @map("markning") @db.VarChar(50)
  tenantNoticePeriod Int? @map("uppstidg") @db.TinyInt
  landlordNoticePeriod Int? @map("uppstidv") @db.TinyInt
  terminateAtPeriodEnd Int @default(0, map: "DF__hyobj__termatend__327AA5E0") @map("termatend") @db.TinyInt
  extensionPeriod Int? @map("forlangtid") @db.TinyInt
  accountingLocation Int @map("redovislok") @db.TinyInt
  desiredMoveOutDate DateTime? @map("onskflytt") @db.DateTime
  signingSignature String? @map("avtalssign") @db.VarChar(80)
  usageType String? @map("anvsatt") @db.VarChar(200)
  terminationNoticeBy String? @map("uppsagtav") @db.Char(1)
  terminationReason String? @map("termreason") @db.VarChar(200)
  personalGuaranteeRequirement Int? @map("borgenkrav") @db.TinyInt
  accessFromDate DateTime? @map("tilltrade") @db.DateTime
  rentLevyPeriod Int? @map("avgperiod") @db.TinyInt
  includesWaterAndSewer Int? @map("va") @db.TinyInt
  rentTribunal Int @default(0, map: "DF__hyobj__tentribun__336ECA19") @map("tentribun") @db.TinyInt
  notificationDate DateTime? @map("noticedate") @db.DateTime
  legislationYear Int? @map("legyear") @db.SmallInt
  isManuallyCalculated Int @default(0, map: "DF__hyobj__manualcal__3462EE52") @map("manualcalc") @db.TinyInt
  pendingReview Int @default(0, map: "DF__hyobj__pendrevie__3557128B") @map("pendreview") @db.TinyInt
  penaltyAmount Float? @map("conpen") @db.Money
  recurringPenaltyAmount Float? @map("conpenong") @db.Money
  penaltyRegistrationDate DateTime? @map("conpenregd") @db.DateTime
  sharedFacilityCost Float? @map("sharefacil") @db.Money
  lastAdditionalAgreementDate DateTime? @map("lataddagre") @db.DateTime
  reference String? @map("referens") @db.VarChar(50)
  editable Int? @map("editeras") @db.TinyInt
  pendingTerminationDate DateTime? @map("preuppdat") @db.DateTime
  pendingTerminationSignature String? @map("preuppsign") @db.VarChar(80)
  preliminaryLastDebitDate DateTime? @map("prelastdeb") @db.Date
  preliminaryRequestedMove DateTime? @map("prereqmove") @db.Date
  moveOutApproved Int? @map("avflgodk") @db.TinyInt
  moveOutApprovalDate DateTime? @map("avgodkdat") @db.DateTime
  movedIn Int? @map("movedin") @db.TinyInt
  movedOut Int? @map("movedout") @db.TinyInt
  moveInDate DateTime? @map("arrival") @db.DateTime
  moveOutDate DateTime? @map("departure") @db.DateTime
  bailiffDate DateTime? @map("bailiff") @db.DateTime
  freeFieldType String? @map("typ") @db.VarChar(50)
  vehicleRegistrationNumber String? @map("vehicleno") @db.VarChar(30)
  storeName String? @map("storename") @db.VarChar(100)
  stairwellListingName String? @map("stlistname") @db.VarChar(100)
  minimalInformation Int @map("miniinfo") @db.TinyInt
  recurringOrder Int? @map("generateik") @db.TinyInt
  noMaintenanceProvisionFund Int @default(0, map: "DF__hyobj__ejhffnd__364B36C4") @map("ejhffnd") @db.TinyInt
  noDiscountApartmentMaintenance Int @default(0, map: "DF__hyobj__ejhglu__373F5AFD") @map("ejhglu") @db.TinyInt
  rentalPartsCount Int? @map("hyprtcount") @db.TinyInt
  propertyTaxPercentage Decimal? @map("taxpercent") @db.Decimal(7, 4)
  sharedAreaPercentage Decimal? @map("shareareap") @db.Decimal(7, 4)
  propertyTaxModel Int @default(1, map: "DF__hyobj__prtaxmode__38337F36") @map("prtaxmodel") @db.TinyInt
  incomeIndicator String? @map("iindicator") @db.Char(1)
  incomeReceiversCount Int? @map("inumberof") @db.SmallInt
  isCampusContractCheck Int @default(0, map: "DF__hyobj__campcheck__3927A36F") @map("campcheck") @db.TinyInt
  isContractVatAccountable Int @default(0, map: "DF__hyobj__contracva__3A1BC7A8") @map("contracvat") @db.TinyInt
  isOnlyTurnoverRegistration Int @default(0, map: "DF__hyobj__onlytrreg__3B0FEBE1") @map("onlytrreg") @db.TinyInt
  needTwoInspections Int @default(0, map: "DF__hyobj__twoinspec__3C04101A") @map("twoinspect") @db.TinyInt
  paidOnce Int @default(0, map: "DF__hyobj__paidatonc__3CF83453") @map("paidatonce") @db.TinyInt
  extensionKind Int @default(0, map: "DF__hyobj__extkind__3DEC588C") @map("extkind") @db.TinyInt
  remindTurnover Int @default(0, map: "DF__hyobj__turnovere__3EE07CC5") @map("turnoverem") @db.TinyInt
  financialAccountingMonth Int @default(0, map: "DF__hyobj__finaccmnt__3FD4A0FE") @map("finaccmnth") @db.TinyInt
  isSharedAccounting Int @default(0, map: "DF__hyobj__sharedacc__40C8C537") @map("sharedacc") @db.TinyInt
  vatDeclaration Int @default(0, map: "DF__hyobj__vatdecl__41BCE970") @map("vatdecl") @db.TinyInt
  isDeleted Int @default(0, map: "DF__hyobj__deletemar__42B10DA9") @map("deletemark") @db.TinyInt
  ocrCode String? @map("ocr") @db.VarChar(25)
  distributedAmongOthers Int @default(0, map: "DF__hyobj__distrcd__43A531E2") @map("distrcd") @db.TinyInt
  inspectionInfo String? @map("inspinfo") @db.VarChar(100)
  timestamp String @map("timestamp") @db.Char(10) // TODO: Determine usage

  contractPrices ContractPrice[] @relation("fkavarkkeyhyobj") // Previously 'avark'
  applications Application[] @relation("fkbkanskeyhyobj2") // Previously 'bkans'
  lettingRounds LettingRound[] @relation("fkbkerbkeyhyobj") // Previously 'bkero'
  orders Order[] @relation("fkikbehkeyhyobj") // Previously 'ikbeh'
  monitoring Monitoring[] @relation("fkhybevkeyhyobj") // Previously 'hybev'
  digitalSignatures DigitalSignature[] @relation("fkhydiskeyhyobj") // Previously 'hydis'
  contractObjectConnections ContractObjectConnection[] @relation("fkhykopkeyhyobj") // Previously 'hykop'
  
  // Relations to other models
  company ContractCompany? @relation("hyobj_keycmcmpTocmcmp", fields: [companyId], references: [keycmcmp], onDelete: NoAction, onUpdate: NoAction, map: "fkhyobjkeycmcmp")
  subCompany SubCompany? @relation("hyobj_keycmcmp2Tocmcmp", fields: [subCompanyId], references: [keycmcmp], onDelete: NoAction, onUpdate: NoAction, map: "fkhyobjkeycmcmp2")
  extensionPeriodUnit PeriodicUnit @relation("hyobj_keycmuniTocmuni", fields: [extensionPeriodUnitId], references: [keycmuni], onUpdate: NoAction, map: "fkhyobjkeycmuni")
  noticePeriodUnit PeriodicUnit @relation("hyobj_keycmuni2Tocmuni", fields: [noticePeriodUnitId], references: [keycmuni], onUpdate: NoAction, map: "fkhyobjkeycmuni2")
  consolidationPeriodUnit PeriodicUnit @relation("hyobj_keycmuni3Tocmuni", fields: [consolidationPeriodUnitId], references: [keycmuni], onUpdate: NoAction, map: "fkhyobjkeycmuni3")
  contractType ContractType @relation(fields: [contractTypeId], references: [keyhyhav], onUpdate: NoAction, map: "fkhyobjkeyhyhav")
  agreementForm ContractAgreementForm @relation("hyobj_keyhyobtTohyobt", fields: [agreementFormId], references: [keyhyobt], onUpdate: NoAction, map: "fkhyobjkeyhyobt")
  chargeForm ChargeForm? @relation("hyobj_keyhyobt2Tohyobt", fields: [chargeFormId], references: [keyhyobt], onDelete: NoAction, onUpdate: NoAction, map: "fkhyobjkeyhyobt2")
  rentalRound RentalRound? @relation(fields: [rentalRoundId], references: [rentalRoundId], onDelete: NoAction, onUpdate: NoAction, map: "fkhyobjkeyhyuto")
  
  // Others to be revisited in backward pass
  inspections ApartmentInspection[] @relation("fklbbeskeyhyobj") // Previously 'lbbes'
  plannedMaintenance PlannedMaintenance[] @relation("fkpuundkeyhyobj") // Previously 'puund'
  agreementRows RentalRow[] @relation("fkhyradkeyhyobj") // Previously 'hyrad'
  securities Security[] @relation("fkhyseckeyhyobj") // Previously 'hysec'
  leaseApprovalSettings LeaseApprovalSetting[] @relation("fkhystgkeyhyobj") // Previously 'hystg'
  businessSectorChains BusinessSectorChain[] @relation("fkhystlkeyhyobj") // Previously 'hystl'
  autogiroTransactionTypes AutogiroTransactionTypeCustomer[] @relation("fkkragkkeyhyobj") // Previously 'kragk'
  autogiroTransactions AutogiroTransaction[] @relation("fkkraglkeyhyobj") // Previously 'kragl'
  rentalRows ActionRentalRow[] @relation("fkvlutfkeyhyobj") // Previously 'vlutf'

  @@index([propertyTaxArticleId], map: "fkhyobjcmart")
  @@index([retroactivePropertyTaxArticleId], map: "fkhyobjcmart2")
  @@index([companyId], map: "fkhyobjcmcmp")
  @@index([subCompanyId], map: "fkhyobjcmcmp2")
  @@index([extensionPeriodUnitId], map: "fkhyobjcmuni")
  @@index([noticePeriodUnitId], map: "fkhyobjcmuni2")
  @@index([consolidationPeriodUnitId], map: "fkhyobjcmuni3")
  @@index([contractTypeId], map: "fkhyobjhyhav")
  @@index([parentContractId], map: "fkhyobjhyobj2")
  @@index([agreementFormId], map: "fkhyobjhyobt")
  @@index([chargeFormId], map: "fkhyobjhyobt2")
  @@index([rentalRoundId], map: "fkhyobjhyuto")
  @@index([orderingMethodId], map: "fkhyobjiksbg")
  @@index([deliveryMethodId], map: "fkhyobjikslr")
  @@index([moduleId], map: "fkhyobjsymdl")
  @@index([createdBy], map: "fkhyobjsyusr")
  @@index([handledBy], map: "fkhyobjsyusr2")
}